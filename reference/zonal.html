<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Zonal statistics — zonal • terra</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Zonal statistics — zonal"><meta name="description" content='Compute zonal statistics, that is summarize values of a SpatRaster for each "zone" defined by another SpatRaster, or by a SpatVector with polygon geometry.
If fun is a true R function, the &amp;lt;SpatRaster,SpatRaster&amp;gt; method may fail when using very large SpatRasters, except for the functions ("mean", "min", "max", "sum", "isNA", and "notNA").
You can also summarize values of a SpatVector for each polygon (zone) defined by another SpatVector.'><meta property="og:description" content='Compute zonal statistics, that is summarize values of a SpatRaster for each "zone" defined by another SpatRaster, or by a SpatVector with polygon geometry.
If fun is a true R function, the &amp;lt;SpatRaster,SpatRaster&amp;gt; method may fail when using very large SpatRasters, except for the functions ("mean", "min", "max", "sum", "isNA", and "notNA").
You can also summarize values of a SpatVector for each polygon (zone) defined by another SpatVector.'><meta property="og:image" content="https://rspatial.github.io/terra/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">terra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8-44</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/terra-package.html">Description</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://rspatial.org">Tutorials</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rspatial/terra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Zonal statistics</h1>

      <div class="d-none name"><code>zonal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute zonal statistics, that is summarize values of a SpatRaster for each "zone" defined by another SpatRaster, or by a SpatVector with polygon geometry.</p>
<p>If <code>fun</code> is a true R <code>function</code>, the &lt;SpatRaster,SpatRaster&gt; method may fail when using very large SpatRasters, except for the functions ("mean", "min", "max", "sum", "isNA", and "notNA").</p>
<p>You can also summarize values of a SpatVector for each polygon (zone) defined by another SpatVector.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'SpatRaster,SpatRaster'</span></span>
<span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, fun<span class="op">=</span><span class="st">"mean"</span>, <span class="va">...</span>, w<span class="op">=</span><span class="cn">NULL</span>, wide<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    as.raster<span class="op">=</span><span class="cn">FALSE</span>, filename<span class="op">=</span><span class="st">""</span>, overwrite<span class="op">=</span><span class="cn">FALSE</span>, wopt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,SpatVector'</span></span>
<span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, fun<span class="op">=</span><span class="st">"mean"</span>, na.rm<span class="op">=</span><span class="cn">FALSE</span>, w<span class="op">=</span><span class="cn">NULL</span>, weights<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>    exact<span class="op">=</span><span class="cn">FALSE</span>, touches<span class="op">=</span><span class="cn">FALSE</span>, small<span class="op">=</span><span class="cn">TRUE</span>, as.raster<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>    as.polygons<span class="op">=</span><span class="cn">FALSE</span>, wide<span class="op">=</span><span class="cn">TRUE</span>, filename<span class="op">=</span><span class="st">""</span>, wopt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatVector,SpatVector'</span></span>
<span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, fun<span class="op">=</span><span class="va">mean</span>, <span class="va">...</span>, weighted<span class="op">=</span><span class="cn">FALSE</span>, as.polygons<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>SpatRaster or SpatVector</p></dd>

  <dt id="arg-z">z<a class="anchor" aria-label="anchor" href="#arg-z"></a></dt>
<dd><p>SpatRaster with cell-values representing zones or a SpatVector with each polygon geometry representing a zone. <code>z</code> can have multiple layers to define intersecting zones</p></dd>

  <dt id="arg-fun">fun<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>function to be applied to summarize the values by zone. Either as character: "mean", "min", "max", "sum", "isNA", and "notNA" and, for relatively small SpatRasters, a proper function</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to fun, such as <code>na.rm=TRUE</code></p></dd>

  <dt id="arg-w">w<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>SpatRaster with weights. Should have a single-layer with non-negative values</p></dd>

  <dt id="arg-wide">wide<a class="anchor" aria-label="anchor" href="#arg-wide"></a></dt>
<dd><p>logical. Should the values returned in a wide format? For the <code>SpatRaster, SpatRaster</code> method this only affects the results when <code>nlyr(z) == 2</code>. For the <code>SpatRaster, SpatVector</code> method this only affects the results when <code>fun=table</code></p></dd>

  <dt id="arg-as-raster">as.raster<a class="anchor" aria-label="anchor" href="#arg-as-raster"></a></dt>
<dd><p>logical. If <code>TRUE</code>, a SpatRaster is returned with the zonal statistic for each zone</p></dd>

  <dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>character. Output filename (ignored if <code>as.raster=FALSE</code></p></dd>

  <dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>logical. If <code>TRUE</code>, <code>filename</code> is overwritten</p></dd>

  <dt id="arg-wopt">wopt<a class="anchor" aria-label="anchor" href="#arg-wopt"></a></dt>
<dd><p>list with additional arguments for writing files as in <code><a href="writeRaster.html">writeRaster</a></code></p></dd>


  <dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>logical. If <code>TRUE</code> and <code>y</code> has polygons, the approximate fraction of each cell that is covered is returned as well, for example to compute a weighted mean</p></dd>

  <dt id="arg-exact">exact<a class="anchor" aria-label="anchor" href="#arg-exact"></a></dt>
<dd><p>logical. If <code>TRUE</code> and <code>y</code> has polygons, the exact fraction of each cell that is covered is returned as well, for example to compute a weighted mean</p></dd>

  <dt id="arg-touches">touches<a class="anchor" aria-label="anchor" href="#arg-touches"></a></dt>
<dd><p>logical. If <code>TRUE</code>, values for all cells touched by lines or polygons are extracted, not just those on the line render path, or whose center point is within the polygon. Not relevant for points; and always considered <code>TRUE</code> when <code>weights=TRUE</code> or <code>exact=TRUE</code></p></dd>

  <dt id="arg-small">small<a class="anchor" aria-label="anchor" href="#arg-small"></a></dt>
<dd><p>logical. If <code>TRUE</code>, values for all cells in touched polygons are extracted if none of the cells center points is within the polygon; even if <code>touches=FALSE</code></p></dd>

  <dt id="arg-weighted">weighted<a class="anchor" aria-label="anchor" href="#arg-weighted"></a></dt>
<dd><p>logical. If <code>TRUE</code>, a weighted.mean is computed and <code>fun</code> is ignored. Weights are based on the length of the lines or the area of the polygons in <code>x</code> that intersect with <code>z</code>. This argument is ignored of <code>x</code> is a SpatVector or points</p></dd>

  <dt id="arg-as-polygons">as.polygons<a class="anchor" aria-label="anchor" href="#arg-as-polygons"></a></dt>
<dd><p>logical. Should the zonal statistics be combined with the geometry of <code>z</code>?</p></dd>

  <dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>logical. If <code>TRUE</code>, <code>NA</code>s are removed</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> with a value for each zone, or a SpatRaster, or SpatVector of polygons.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="global.html">global</a></code> for "global" statistics (i.e., all of <code>x</code> is considered a single zone), <code><a href="app.html">app</a></code> for local statistics, and <code><a href="extract.html">extract</a></code> for an alternative way to summarize values of a SpatRaster with a SpatVector. With <code><a href="aggregate.html">aggregate</a></code> you can compute statistics for cell blocks defined by a number of rows and columns.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SpatRaster, SpatRaster</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span>ncols<span class="op">=</span><span class="fl">10</span>, nrows<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"zone"</span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, <span class="st">"sum"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   zone lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1   210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2   610</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3  1410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4  1810</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with weights </span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="init.html">init</a></span><span class="op">(</span><span class="va">r</span>, <span class="st">"col"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, w<span class="op">=</span><span class="va">w</span>, <span class="st">"mean"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   zone lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1    12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2    32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3    72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4    92</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple layers</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"ex/logo.tif"</span>, package <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co"># zonal layer </span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"zone"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span>, each<span class="op">=</span><span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">/</span><span class="fl">5</span>, length.out<span class="op">=</span><span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, <span class="st">"mean"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   zone      red    green     blue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1 197.9486 198.0103 193.5556</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2 173.2219 176.7717 185.2585</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3 168.2952 172.6232 184.6939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4 193.5859 197.0019 206.5717</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># raster of zonal values</span></span></span>
<span class="r-in"><span><span class="va">zr</span> <span class="op">&lt;-</span> <span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, <span class="st">"mean"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, as.raster<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SpatRaster, SpatVector</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span>ncol<span class="op">=</span><span class="fl">2</span>,nrow<span class="op">=</span><span class="fl">2</span>, vals<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, xmin<span class="op">=</span><span class="fl">0</span>, xmax<span class="op">=</span><span class="fl">1</span>, ymin<span class="op">=</span><span class="fl">0</span>, ymax<span class="op">=</span><span class="fl">1</span>, crs<span class="op">=</span><span class="st">"+proj=utm +zone=1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.polygons.html">as.polygons</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="shift.html">shift</a></span><span class="op">(</span><span class="va">p</span>, <span class="fl">.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="disaggregate.html">disagg</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4</span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">p</span>, <span class="va">sum</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    64</span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">pp</span>, exact<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4.0</span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span><span class="op">*</span><span class="fl">10</span><span class="op">)</span>, <span class="va">pp</span>, w<span class="op">=</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1 lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2    20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3    30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4    40</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SpatVector, SpatVector</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"ex/lux.shp"</span>, package<span class="op">=</span><span class="st">"terra"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="vect.html">vect</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">[</span>,<span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="sample.html">spatSample</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>b2<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, ssep1<span class="op">=</span><span class="fl">100</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">p</span>, <span class="va">v</span>, <span class="va">mean</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    zone       b2    ssep1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1 55.00000 46.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2 53.70000 47.30000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3 38.16667 62.83333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4 50.75000 50.25000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5 55.27273 45.72727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6 43.40000 57.60000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7 41.80000 59.20000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8 53.42857 47.57143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9 53.80000 47.20000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10 43.00000 58.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   11 60.38462 40.61538</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   12 49.00000 52.00000</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

