<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Coordinates from a row, column or cell number and vice versa — xyRowColCell • terra</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Coordinates from a row, column or cell number and vice versa — xyRowColCell"><meta name="description" content="Get coordinates of the center of raster cells for a row, column, or cell number of a SpatRaster.
Or get row, column, or cell numbers from coordinates or from each other.
Cell numbers start at 1 in the upper left corner, and increase from left to right, and then from top to bottom.
The last cell number equals the number of cells of the SpatRaster (see ncell).
Row numbers start at 1 at the top, column numbers start at 1 at the left.
When computing row, column, or cell numbers from coordinates, and coordinates fall on the edge of two or four cells, they are assigned to the right-most and/or lowest cell. That is, in these cases of ambiguity, the highest row, column, or cell number is returned."><meta property="og:description" content="Get coordinates of the center of raster cells for a row, column, or cell number of a SpatRaster.
Or get row, column, or cell numbers from coordinates or from each other.
Cell numbers start at 1 in the upper left corner, and increase from left to right, and then from top to bottom.
The last cell number equals the number of cells of the SpatRaster (see ncell).
Row numbers start at 1 at the top, column numbers start at 1 at the left.
When computing row, column, or cell numbers from coordinates, and coordinates fall on the edge of two or four cells, they are assigned to the right-most and/or lowest cell. That is, in these cases of ambiguity, the highest row, column, or cell number is returned."><meta property="og:image" content="https://rspatial.github.io/terra/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">terra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8-44</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/terra-package.html">Description</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://rspatial.org">Tutorials</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rspatial/terra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Coordinates from a row, column or cell number and vice versa</h1>

      <div class="d-none name"><code>xyCellFrom.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get coordinates of the center of raster cells for a row, column, or cell number of a SpatRaster.
Or get row, column, or cell numbers from coordinates or from each other.</p>
<p>Cell numbers start at 1 in the upper left corner, and increase from left to right, and then from top to bottom.
The last cell number equals the number of cells of the SpatRaster (see <code><a href="dimensions.html">ncell</a></code>).
Row numbers start at 1 at the top, column numbers start at 1 at the left.</p>
<p>When computing row, column, or cell numbers from coordinates, and coordinates fall on the edge of two or four cells, they are assigned to the right-most and/or lowest cell. That is, in these cases of ambiguity, the highest row, column, or cell number is returned.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">xFromCol</span><span class="op">(</span><span class="va">object</span>, <span class="va">col</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">yFromRow</span><span class="op">(</span><span class="va">object</span>, <span class="va">row</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">xyFromCell</span><span class="op">(</span><span class="va">object</span>, <span class="va">cell</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">xFromCell</span><span class="op">(</span><span class="va">object</span>, <span class="va">cell</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">yFromCell</span><span class="op">(</span><span class="va">object</span>, <span class="va">cell</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">colFromX</span><span class="op">(</span><span class="va">object</span>, <span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">rowFromY</span><span class="op">(</span><span class="va">object</span>, <span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric,numeric'</span></span>
<span><span class="fu">cellFromRowCol</span><span class="op">(</span><span class="va">object</span>, <span class="va">row</span>, <span class="va">col</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric,numeric'</span></span>
<span><span class="fu">cellFromRowColCombine</span><span class="op">(</span><span class="va">object</span>, <span class="va">row</span>, <span class="va">col</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric,numeric'</span></span>
<span><span class="fu">rowColCombine</span><span class="op">(</span><span class="va">object</span>, <span class="va">row</span>, <span class="va">col</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">rowFromCell</span><span class="op">(</span><span class="va">object</span>, <span class="va">cell</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">colFromCell</span><span class="op">(</span><span class="va">object</span>, <span class="va">cell</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,numeric'</span></span>
<span><span class="fu">rowColFromCell</span><span class="op">(</span><span class="va">object</span>, <span class="va">cell</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster,matrix'</span></span>
<span><span class="fu">cellFromXY</span><span class="op">(</span><span class="va">object</span>, <span class="va">xy</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>SpatRaster</p></dd>

  <dt id="arg-cell">cell<a class="anchor" aria-label="anchor" href="#arg-cell"></a></dt>
<dd><p>integer. cell number(s)</p></dd>

  <dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>integer. column number(s) or missing (equivalent to all columns)</p></dd>

  <dt id="arg-row">row<a class="anchor" aria-label="anchor" href="#arg-row"></a></dt>
<dd><p>integer. row number(s) or missing (equivalent to all rows)</p></dd>

  <dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>x coordinate(s)</p></dd>

  <dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>y coordinate(s)</p></dd>

  <dt id="arg-xy">xy<a class="anchor" aria-label="anchor" href="#arg-xy"></a></dt>
<dd><p>matrix of x and y coordinates</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>xFromCol, yFromCol, xFromCell, yFromCell: vector of x or y coordinates</p>
<p>xyFromCell: matrix(x,y) with coordinate pairs</p>
<p>colFromX, rowFromY, cellFromXY, cellFromRowCol, rowFromCell, colFromCell: vector of row, column, or cell numbers</p>
<p>rowColFromCell, rowColCombine: matrix of row and column numbers</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="crds.html">crds</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">xFromCol</span><span class="op">(</span><span class="va">r</span>, <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">120</span>, <span class="fl">180</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -179.5  -60.5   -0.5</span>
<span class="r-in"><span><span class="fu">yFromRow</span><span class="op">(</span><span class="va">r</span>, <span class="fl">90</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5</span>
<span class="r-in"><span><span class="fu">xyFromCell</span><span class="op">(</span><span class="va">r</span>, <span class="fl">10000</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x    y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 99.5 62.5</span>
<span class="r-in"><span><span class="fu">xyFromCell</span><span class="op">(</span><span class="va">r</span>, <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">32581</span>, <span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span>, <span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           x     y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    NaN   NaN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -179.5  89.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    0.5  -0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  179.5 -89.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    NaN   NaN</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cellFromRowCol</span><span class="op">(</span><span class="va">r</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1445</span>
<span class="r-in"><span><span class="fu">cellFromRowCol</span><span class="op">(</span><span class="va">r</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   1 362</span>
<span class="r-in"><span><span class="fu">cellFromRowCol</span><span class="op">(</span><span class="va">r</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all combinations</span></span></span>
<span class="r-in"><span><span class="fu">cellFromRowColCombine</span><span class="op">(</span><span class="va">r</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   1   2 361 362</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">colFromX</span><span class="op">(</span><span class="va">r</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 191</span>
<span class="r-in"><span><span class="fu">rowFromY</span><span class="op">(</span><span class="va">r</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 81</span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>lon<span class="op">=</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">5</span><span class="op">)</span>, lat<span class="op">=</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">88</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cellFromXY</span><span class="op">(</span><span class="va">r</span>, <span class="va">xy</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 27191   906</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if no row/col specified all are returned</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summarize-generics.html">range</a></span><span class="op">(</span><span class="fu">xFromCol</span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -179.5  179.5</span>
<span class="r-in"><span><span class="fu"><a href="dimensions.html">length</a></span><span class="op">(</span><span class="fu">yFromRow</span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 180</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

